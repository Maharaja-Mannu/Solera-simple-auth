(this["webpackJsonps-client"]=this["webpackJsonps-client"]||[]).push([[0],{109:function(e,t,a){},215:function(e,t,a){},217:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(40),c=a.n(s),i=(a(109),a(8)),o=a(22),l=a(6),u=a(9),d=a.n(u),j=a(17),b=a(27),p=a(48),h=a(47),x=a(37),m="LOGIN_SUCCESS",O="LOGIN_FAILURE",f="LOGOUT_SUCCESS",g=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new Request("".concat("","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t,null,2)}));case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:throw new Error("Invalid username or password");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new Request("".concat("","/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t,null,2)}));case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.next=10,a.text();case 10:throw r=e.sent,new Error(r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new Request("".concat("","/logout"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:t}}));case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.text();case 6:return n=e.sent,e.abrupt("return",n);case 8:return e.next=10,a.text();case 10:throw r=e.sent,new Error(r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=a(2);var S=function(e){var t=e.state,a=e.dispatch,n=r.a.useState(!1),s=Object(i.a)(n,2),c=s[0],l=s[1],u=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,w(t.token);case 4:a({type:f}),l(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message),l(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(p.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(y.jsxs)(b.a,{children:[Object(y.jsx)(p.a.Brand,{as:o.b,to:"/",children:"Solera"}),Object(y.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(y.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(y.jsx)(h.a,{className:"ml-auto",children:t.isLoggedIn?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(h.a.Link,{as:o.b,to:"/",children:t.user.name}),Object(y.jsx)(x.a,{onClick:u,variant:"outline-light",disabled:c,children:c?"Loading...":"Logout"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(h.a.Link,{as:o.b,to:"/login",children:"Login"}),Object(y.jsx)(h.a.Link,{as:o.b,to:"/register",children:"Register"})]})})})]})})})},k=a(16),L=a(41),C=a(32),E=a(11),I=a(104),N=function(e){var t=e.label,a=e.helpText,n=Object(I.a)(e,["label","helpText"]),r=Object(C.b)(n.name),s=Object(i.a)(r,2),c=s[0],o=s[1];return Object(y.jsxs)(k.a.Group,{children:[Object(y.jsx)(k.a.Label,{htmlFor:n.id||n.name,children:t}),Object(y.jsx)(k.a.Control,Object(E.a)(Object(E.a)(Object(E.a)({},c),n),{},{isInvalid:o.touched&&o.error})),Object(y.jsx)(k.a.Control.Feedback,{type:"invalid",children:o.error}),a&&Object(y.jsx)(k.a.Text,{className:"text-muted",children:a})]})},T=a(20),q=Object(T.a)().shape({name:Object(T.c)().max(20).required("Required"),username:Object(T.c)().email().required("Required"),password:Object(T.c)().min(8,"Password must be atleast 8 character").required("Required"),cnfpwd:Object(T.c)().oneOf([Object(T.b)("password"),null],"Password must match").required("Required")}),R=Object(T.a)().shape({username:Object(T.c)().email().required("Required"),password:Object(T.c)().required("Required")});function P(e){e.state;var t=e.dispatch,a=r.a.useState(null),n=Object(i.a)(a,2),s=n[0],c=n[1],o=Object(l.f)(),u=function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(null),e.prev=1,e.next=4,g(a);case 4:n=e.sent,t({type:m,payload:n}),localStorage.setItem("token",n.token),localStorage.setItem("user",n.user.name),o.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:O}),c(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(b.a,{className:"pt-4",children:Object(y.jsxs)("div",{className:"m-auto",style:{maxWidth:"360px"},children:[s&&Object(y.jsxs)(L.a,{variant:"danger",children:[Object(y.jsx)(L.a.Heading,{children:"Error!"}),Object(y.jsx)("p",{children:s})]}),Object(y.jsx)("h2",{children:"Login"}),Object(y.jsx)(C.a,{initialValues:{username:"",password:""},validationSchema:R,onSubmit:u,children:function(e){var t=e.handleSubmit,a=e.isSubmitting;return Object(y.jsxs)(k.a,{noValidate:!0,onSubmit:t,children:[Object(y.jsx)(N,{label:"Email address",name:"username",type:"email",placeholder:"Enter email",autoComplete:"username",helpText:"We'll never share your email with anyone else."}),Object(y.jsx)(N,{label:"Password",name:"password",type:"password",placeholder:"Enter password",autoComplete:"current-password"}),Object(y.jsx)(x.a,{variant:"primary",type:"submit",disabled:a,children:a?"Loading...":"Submit"})]})}})]})})}var F=function(e){var t=e.dispatch,a=r.a.useState(null),n=Object(i.a)(a,2),s=n[0],c=n[1],o=Object(l.f)(),u=function(){var e=Object(j.a)(d.a.mark((function e(a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(null),e.prev=1,e.next=4,v(a);case 4:n=e.sent,t({type:m,payload:n}),localStorage.setItem("token",n.token),localStorage.setItem("user",n.user.name),o.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:O}),c(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsx)(b.a,{className:"mt-4",children:Object(y.jsxs)("div",{className:"m-auto",style:{maxWidth:"360px"},children:[s&&Object(y.jsxs)(L.a,{variant:"danger",children:[Object(y.jsx)(L.a.Heading,{children:"Error!"}),Object(y.jsx)("p",{children:s})]}),Object(y.jsx)("h3",{children:"Register"}),Object(y.jsx)(C.a,{initialValues:{name:"",username:"",pwd:"",cnfpwd:""},validationSchema:q,onSubmit:u,children:function(e){var t=e.handleSubmit,a=e.isSubmitting;return Object(y.jsxs)(k.a,{noValidate:!0,onSubmit:t,children:[Object(y.jsx)(N,{label:"Name",type:"text",name:"name",placeholder:"Enter Name"}),Object(y.jsx)(N,{label:"Email address",type:"email",name:"username",placeholder:"Enter email",autoComplete:"username",helpText:"We'll never share your email with anyone else."}),Object(y.jsx)(N,{label:"Password",type:"password",name:"password",placeholder:"Enter password",autoComplete:"new-password"}),Object(y.jsx)(N,{label:"Confirm password",type:"password",name:"cnfpwd",placeholder:"Re-enter Password",autoComplete:"new-password"}),Object(y.jsx)(x.a,{variant:"primary",type:"submit",disabled:a,children:a?"Loading...":"Register"})]})}})]})})};a(215);function W(e,t){switch(t.type){case m:return Object(E.a)(Object(E.a)({},e),{},{isLoggedIn:!0,user:t.payload.user,token:t.payload.token});case O:return Object(E.a)(Object(E.a)({},e),{},{isLoggedIn:!1});case f:return Object(E.a)(Object(E.a)({},e),{},{isLoggedIn:!1,user:null,token:null});default:return e}}function G(){return Object(y.jsxs)(b.a,{className:"text-center pt-4",children:[Object(y.jsx)("h3",{children:"404 - Page Not Found"}),Object(y.jsx)("p",{children:"The page is missing."})]})}var J=function(){var e=r.a.useReducer(W,{isLoading:!1,isLoggedIn:!1,user:"",token:null}),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(y.jsxs)(o.a,{children:[Object(y.jsx)(S,{state:a,dispatch:n}),Object(y.jsxs)(l.c,{children:[Object(y.jsxs)(l.a,{exact:!0,path:"/",children:[Object(y.jsx)("h2",{className:"text-center pt-4",children:"Welcome to Solera Life Science Private Limited"}),a.user&&Object(y.jsx)("h4",{className:"text-center",children:a.user.name})]}),Object(y.jsx)(l.a,{exact:!0,path:"/login",children:Object(y.jsx)(P,{dispatch:n})}),Object(y.jsx)(l.a,{exact:!0,path:"/register",children:Object(y.jsx)(F,{dispatch:n})}),Object(y.jsx)(l.a,{exact:!0,path:"*",children:Object(y.jsx)(G,{})})]})]})},U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,219)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};a(216);c.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(J,{})}),document.getElementById("root")),U()}},[[217,1,2]]]);
//# sourceMappingURL=main.5638bd24.chunk.js.map